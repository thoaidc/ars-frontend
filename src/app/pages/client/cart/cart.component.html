<!-- breadcrumb -->
<div class="container">
  <div class="bread-crumb flex-w p-l-25 p-r-15 p-t-30 p-lr-0-lg">
    <a routerLink="/client/home" class="stext-109 cl8 hov-cl1 trans-04">
      Trang chủ
      <i class="fa fa-angle-right m-l-9 m-r-10" aria-hidden="true"></i>
    </a>
    <span class="stext-109 cl4">Giỏ hàng</span>
  </div>
</div>

<form class="bg0 pt-5 p-b-85">
  <div class="container">
    <div class="row">
      <div class="col-lg-10 col-xl-7 m-lr-auto m-b-50">
        <div class="cart-left">
          <div class="wrap-table-shopping-cart">
            <table class="table-shopping-cart">
              <tr class="table_head">
                <th class="text-center" style="width: 32px;">
                  <input
                    *ngIf="cartProducts$ | async as products"
                    class="cursor-pointer me-3"
                    style="width: 20px; height: 20px"
                    type="checkbox"
                    [checked]="products.length > 0 && selectedProductIds.size === products.length"
                    (change)="toggleAll(allCheck.checked)" #allCheck
                  />
                </th>
                <th style="width: 100px;">Mẫu thiết kế</th>
                <th></th>
                <th class="text-right" style="width: 154px;">Tổng</th>
                <th class="text-center" style="width: 64px"></th>
              </tr>

              <tr *ngFor="let cartProduct of cartProducts$ | async; let i = index" class="table_row" style="border-top:1px solid #eee;">
                <td class="text-center">
                  <input
                    class="cursor-pointer me-3"
                    style="width: 20px; height: 20px"
                    type="checkbox"
                    [checked]="isSelected(cartProduct)"
                    (change)="onItemSelect(cartProduct)"
                  />
                </td>
                <td>
                  <img [src]="cartProduct.thumbnail" alt="" style="width:80px; height:80px; object-fit:cover;">
                </td>
                <td class="text-limit-2">{{ cartProduct.productName }}</td>
                <td class="text-right">{{ cartProduct.price | vndCurrency }}</td>
                <td class="text-right">
                  <span class="cursor-pointer" (click)="removeItem(cartProduct)" [innerHTML]="ICON_DELETE | safeHtml"></span>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>

      <div class="col-sm-10 col-lg-7 col-xl-5 m-lr-auto m-b-50">
        <div class="bor10 p-4 cart-summary">
          <h4 class="mtext-109 cl2 pb-2">Thành tiền</h4>

          <div class="flex-w flex-t bor12 pb-5">
            <div class="size-208">
              <span class="stext-110 cl2">Tạm tính:</span>
            </div>
            <div class="size-209">
              <span class="mtext-110 cl2">{{ total | vndCurrency }}</span>
            </div>
          </div>

          <button (click)="proceedToCheckout()" type="button" class="flex-c-m stext-101 cl0 size-116 bg3 bor14 hov-btn3 p-lr-15 trans-04 pointer">Đặt hàng</button>
        </div>
      </div>
    </div>
  </div>
</form>
