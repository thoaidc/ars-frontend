<div class="checkout-page">
  <div class="container">
    <!-- Steps -->
    <div class="checkout-steps">
      <span class="step">Cart</span>
      <span class="step-separator">—</span>
      <span class="step active">Order Information</span>
      <span class="step-separator">—</span>
      <span class="step">Complete</span>
    </div>

    <!-- Main layout -->
    <section class="checkout-main">
      <!-- LEFT: Express + forms -->
      <div class="checkout-left">
        <!-- Express checkout -->
        <div class="card express-card">
          <h2>Express checkout</h2>
          <button class="btn-express link">Pay with Link</button>
          <button class="btn-express paypal">Pay with PayPal</button>
          <div class="or-divider">
            <span>or</span>
          </div>
        </div>

        <!-- Billing + shipping forms -->
        <div class="card form-card">
          <h2>Billing information</h2>

          <div class="form-row two-col">
            <div class="form-field">
              <label>First name</label>
              <input type="text" />
            </div>
            <div class="form-field">
              <label>Last name</label>
              <input type="text" />
            </div>
          </div>

          <div class="form-row">
            <div class="form-field">
              <label>Phone (required)</label>
              <input type="tel" />
            </div>
          </div>

          <div class="form-row">
            <div class="form-field">
              <label>Email (required)</label>
              <input type="email" />
            </div>
          </div>

          <h2 class="section-title">Shipping Address</h2>

          <div class="form-row checkbox-row">
            <label>
              <input type="checkbox" checked />
              Send to your friend
            </label>
          </div>

          <div class="form-row">
            <div class="form-field">
              <label>Country / Region</label>
              <select>
                <option selected>United States</option>
                <option>Viet Nam</option>
                <option>Other...</option>
              </select>
            </div>
          </div>

          <div class="form-row">
            <div class="form-field">
              <label>Address</label>
              <input type="text" />
            </div>
          </div>

          <div class="form-row two-col">
            <div class="form-field">
              <label>Apartment, suite, etc. (optional)</label>
              <input type="text" />
            </div>
            <div class="form-field">
              <label>State / Province</label>
              <input type="text" />
            </div>
          </div>

          <div class="form-row two-col">
            <div class="form-field">
              <label>City / Suburb</label>
              <input type="text" />
            </div>
            <div class="form-field">
              <label>ZIP / Postal code</label>
              <input type="text" />
            </div>
          </div>

          <div class="form-row">
            <div class="form-field">
              <label>Order notes (optional)</label>
              <textarea rows="2"></textarea>
            </div>
          </div>

          <div class="form-row billing-note">
            <span>Billing address matches shipping address</span>
            <button class="link-button">Change</button>
          </div>
        </div>
      </div>

      <!-- RIGHT: Review + summary + payment methods -->
      <div class="checkout-right">
        <!-- Order Review -->
        <div class="card review-card">
          <h2>Order Review</h2>
          <div
            class="review-item"
            *ngFor="let it of items; trackBy: trackById"
          >
            <div class="review-img">
              <img [src]="it.imageUrl" [alt]="it.name" />
            </div>
            <div class="review-info">
              <div class="review-name">{{ it.name }}</div>
              <div class="review-variant">{{ it.variant }}</div>
              <button class="review-remove">Remove</button>
            </div>
            <div class="review-price">
              \${{ (it.price * it.qty) | number : '1.2-2' }}
            </div>
          </div>

          <div class="shipping-line">
            <div class="shipping-text">
              <div class="title">Standard shipping</div>
              <div class="subtitle">6 – 11 business days with tracking</div>
            </div>
            <div class="shipping-fee">
              \${{ shippingFee | number : '1.2-2' }}
            </div>
          </div>
        </div>

        <!-- Order Summary -->
        <div class="card summary-card">
          <h2>Order Summary</h2>

          <div class="promo-row">
            <label>
              <input type="checkbox" />
              Use promotion code
            </label>
            <input type="text" placeholder="Enter code" />
          </div>

          <div class="summary-row">
            <span>Subtotal:</span>
            <span>\${{ subtotal | number : '1.2-2' }}</span>
          </div>
          <div class="summary-row">
            <span>Shipping fee:</span>
            <span>+\${{ shippingFee | number : '1.2-2' }}</span>
          </div>
          <div class="summary-row">
            <span>Tips:</span>
            <span>\${{ tips | number : '1.2-2' }}</span>
          </div>
          <div class="summary-row total">
            <span>Total:</span>
            <span>\${{ total | number : '1.2-2' }}</span>
          </div>

          <div class="tip-row">
            <span>Loved your purchase? Leave a small tip to support our team.</span>
            <div class="tip-options">
              <button (click)="setTip(0)" [class.active]="tips === 0">
                No tips
              </button>
              <button (click)="setTip(5)" [class.active]="tips === 5">
                \$5.00
              </button>
              <button (click)="setTip(10)" [class.active]="tips === 10">
                \$10.00
              </button>
              <button (click)="setTip(20)" [class.active]="tips === 20">
                \$20.00
              </button>
              <button (click)="setTip(0)" class="other">
                Other
              </button>
            </div>
          </div>
        </div>

        <!-- Payment Methods -->
        <div class="card payment-card">
          <h2>Payment Methods</h2>

          <div class="payment-tabs">
            <button class="tab active">Card</button>
            <button class="tab">Buy now, pay later</button>
            <button class="tab">PayPal</button>
          </div>

          <div class="payment-logos">
            <span>VISA</span>
            <span>Mastercard</span>
            <span>JCB</span>
            <span>Momo</span>
            <span>ZaloPay</span>
          </div>

          <div class="form-row">
            <div class="form-field">
              <label>Card number</label>
              <input type="text" placeholder="1234 1234 1234 1234" />
            </div>
          </div>

          <div class="form-row two-col">
            <div class="form-field">
              <label>MM / YY</label>
              <input type="text" placeholder="08 / 28" />
            </div>
            <div class="form-field">
              <label>CVC</label>
              <input type="text" placeholder="123" />
            </div>
          </div>

          <button class="btn-place-order">
            Place Order Now
          </button>

          <p class="payment-note">
            By completing your payment, you agree to our terms and policies.
          </p>

          <div class="payment-badges">
            <span>Secure payments powered by Stripe</span>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQs -->
    <section class="checkout-faq card">
      <h2>FAQs</h2>
      <div class="faq-item" *ngFor="let f of faqs; trackBy: trackByIndex">
      <button class="faq-header" (click)="toggleFaq(f)">
          <span>{{ f.question }}</span>
          <span class="icon">{{ f.open ? '−' : '+' }}</span>
        </button>
        <div class="faq-body" *ngIf="f.open">
          <p>{{ f.answer }}</p>
        </div>
      </div>
    </section>

    <!-- Recently viewed -->
    <section class="checkout-recent">
      <h2>Recently viewed</h2>
      <div class="recent-row">
        <article
          class="recent-card"
          *ngFor="let p of recentlyViewed; trackBy: trackById"
        >
          <div class="recent-img">
            <img [src]="p.imageUrl" [alt]="p.name" />
          </div>
          <div class="recent-info">
            <div class="name">{{ p.name }}</div>
            <div class="price">\${{ p.price | number : '1.2-2' }}</div>
          </div>
        </article>
      </div>
    </section>

    <!-- Benefits row trước footer -->
    <section class="checkout-benefits">
      <div class="benefit">
        <strong>Worldwide Shipping</strong>
        <span>Standard or Express delivery</span>
      </div>
      <div class="benefit">
        <strong>Secure Payments</strong>
        <span>256-bit SSL Encryption</span>
      </div>
      <div class="benefit">
        <strong>Free Return</strong>
        <span>Money-back guarantee for all orders</span>
      </div>
      <div class="benefit">
        <strong>Local Support</strong>
        <span>24/7 dedicated support</span>
      </div>
    </section>
  </div>
</div>
